"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2537],{2537:(M,v,l)=>{l.r(v),l.d(v,{EventlistPageModule:()=>C});var c=l(9808),f=l(4182),s=l(2478),g=l(7203),h=l(7582),a=l(5439),e=l(2096),m=l(7712);function p(i,d){1&i&&(e.TgZ(0,"div",5),e._UZ(1,"ion-spinner",6),e.qZA())}function _(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item-sliding")(1,"ion-item",11),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).eventclick(r)}),e.TgZ(2,"ion-label")(3,"h3"),e._uU(4),e.qZA(),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"date"),e.qZA()()(),e.TgZ(8,"ion-item-options",12)(9,"ion-item-option",13),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).edit(r)}),e._uU(10,"Edit"),e.qZA(),e.TgZ(11,"ion-item-option",14),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).delete(r)}),e._uU(12,"Delete"),e.qZA()()()}if(2&i){const t=d.$implicit;e.xp6(4),e.Oqu(t.title),e.xp6(2),e.hij(" ",e.xi3(7,2,t.date,"EEEE, dd/MM/yyyy, h:mm a")," ")}}function y(i,d){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"ion-list")(2,"ion-list-header"),e._uU(3," Events "),e.qZA(),e.YNc(4,_,13,5,"ion-item-sliding",8),e.TgZ(5,"ion-item",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().add()}),e._UZ(6,"ion-icon",10),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.eventlist)}}const E=[{path:"",component:(()=>{class i{constructor(t,n,o,r,u){this.alertController=t,this.toastController=n,this.eventservice=o,this.platform=r,this.router=u,this.finishedloading=!1,this.eventlist=[]}ngOnInit(){this.eventservice.getAllEvents().subscribe(t=>{this.eventlist=t,this.finishedloading=!0},t=>{this.finishedloading=!0})}refresh(t){this.eventservice.getAllEvents().subscribe(n=>{this.eventlist=n,t.target.complete()},n=>{t.target.complete()})}eventclick(t){this.router.navigate(["/countdown",t])}delete(t){this.finishedloading=!1,this.eventservice.deleteEvent(t).subscribe(n=>{this.finishedloading=!0,this.eventlist=n},n=>{this.finishedloading=!0})}edit(t){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"",header:"Edit Event",inputs:[{name:"title",type:"text",placeholder:"Title",value:t.title},{name:"date",type:"datetime-local",min:a().format("yyyy-MM-DD")+"T00:00:00",value:a(t.date).format("yyyy-MM-DDTHH:mm:ss.SSS")}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Edit",handler:o=>(0,h.mG)(this,void 0,void 0,function*(){return""==o.title||""==o.date?((yield this.toastController.create({message:"Either the title or date is not set",duration:2e3})).present(),!1):a(o.date).isBefore(a())?((yield this.toastController.create({message:"The date is in the past",duration:2e3})).present(),!1):(this.finishedloading=!1,void this.eventservice.editEvent(t,o.title,a(o.date).format("yyyy-MM-DDTHH:mm:ssZ")).subscribe(r=>{this.finishedloading=!0,this.eventlist=r},r=>{this.finishedloading=!0}))})}]})).present()})}add(){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"",header:"Add Event",inputs:[{name:"title",type:"text",placeholder:"Title"},{name:"date",type:"datetime-local",min:a().format("yyyy-MM-DD")+"T00:00:00",value:a().format("yyyy-MM-DDTHH:mm:ss.SSS")}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Add",handler:n=>(0,h.mG)(this,void 0,void 0,function*(){return""==n.title||""==n.date?((yield this.toastController.create({message:"Either the title or date is not set",duration:2e3})).present(),!1):a(n.date).isBefore(a())?((yield this.toastController.create({message:"The date is in the past",duration:2e3})).present(),!1):(this.finishedloading=!1,void this.eventservice.addEvent(n.title,a(n.date).format("yyyy-MM-DDTHH:mm:ssZ")).subscribe(o=>{this.finishedloading=!0,this.eventlist=o},o=>{this.finishedloading=!0}))})}]})).present()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(s.Br),e.Y36(s.yF),e.Y36(m.n),e.Y36(s.t4),e.Y36(g.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-eventlist"]],decls:11,vars:3,consts:[["slot","start"],["autoHide","false"],["slot","fixed",3,"disabled","ionRefresh"],["class","centerspinner",4,"ngIf"],["class","content",4,"ngIf"],[1,"centerspinner"],["name","crescent"],[1,"content"],[4,"ngFor","ngForOf"],["lines","none",1,"addbutton",3,"click"],["name","add-circle-outline"],[3,"click"],["side","end"],["color","warning",3,"click"],["color","danger",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-menu-button",1),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Event List"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-refresher",2),e.NdJ("ionRefresh",function(r){return n.refresh(r)}),e._UZ(8,"ion-refresher-content"),e.qZA(),e.YNc(9,p,2,0,"div",3),e.YNc(10,y,7,1,"div",4),e.qZA()),2&t&&(e.xp6(7),e.s9C("disabled",0==n.finishedloading),e.xp6(2),e.Q6J("ngIf",0==n.finishedloading),e.xp6(1),e.Q6J("ngIf",n.finishedloading))},directives:[s.Gu,s.sr,s.Sm,s.fG,s.wd,s.W2,s.nJ,s.Wo,c.O5,s.PQ,s.q_,s.yh,c.sg,s.td,s.Ie,s.Q$,s.IK,s.u8,s.gu],pipes:[c.uU],styles:[".addbutton[_ngcontent-%COMP%]{--padding-start: 0px}.addbutton[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#2ed400;margin:auto}ion-spinner[_ngcontent-%COMP%]{width:100px!important;height:100px!important}.centerspinner[_ngcontent-%COMP%]{top:50%;left:50%;position:fixed;transform:translate(-50%,-50%)}ion-header[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}ion-list-header[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]}),i})()}];let x=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.Bz.forChild(E)],g.Bz]}),i})(),C=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[c.ez,f.u5,s.Pc,x]]}),i})()}}]);