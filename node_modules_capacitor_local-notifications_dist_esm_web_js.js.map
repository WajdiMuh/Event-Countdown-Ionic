{"version":3,"file":"node_modules_capacitor_local-notifications_dist_esm_web_js.js","mappings":"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","sources":["./node_modules/@capacitor/local-notifications/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class LocalNotificationsWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.pending = [];\n        this.hasNotificationSupport = () => {\n            if (!('Notification' in window) || !Notification.requestPermission) {\n                return false;\n            }\n            if (Notification.permission !== 'granted') {\n                // don't test for `new Notification` if permission has already been granted\n                // otherwise this sends a real notification on supported browsers\n                try {\n                    new Notification('');\n                }\n                catch (e) {\n                    if (e.name == 'TypeError') {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        };\n    }\n    async createChannel() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async deleteChannel() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async listChannels() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async schedule(options) {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        for (const notification of options.notifications) {\n            this.sendNotification(notification);\n        }\n        return {\n            notifications: options.notifications.map(notification => ({\n                id: notification.id,\n            })),\n        };\n    }\n    async getPending() {\n        return {\n            notifications: this.pending,\n        };\n    }\n    async registerActionTypes() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async cancel(pending) {\n        this.pending = this.pending.filter(notification => !pending.notifications.find(n => n.id === notification.id));\n    }\n    async areEnabled() {\n        const { display } = await this.checkPermissions();\n        return {\n            value: display === 'granted',\n        };\n    }\n    async requestPermissions() {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        const display = this.transformNotificationPermission(await Notification.requestPermission());\n        return { display };\n    }\n    async checkPermissions() {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        const display = this.transformNotificationPermission(Notification.permission);\n        return { display };\n    }\n    transformNotificationPermission(permission) {\n        switch (permission) {\n            case 'granted':\n                return 'granted';\n            case 'denied':\n                return 'denied';\n            default:\n                return 'prompt';\n        }\n    }\n    sendPending() {\n        var _a;\n        const toRemove = [];\n        const now = new Date().getTime();\n        for (const notification of this.pending) {\n            if (((_a = notification.schedule) === null || _a === void 0 ? void 0 : _a.at) &&\n                notification.schedule.at.getTime() <= now) {\n                this.buildNotification(notification);\n                toRemove.push(notification);\n            }\n        }\n        this.pending = this.pending.filter(notification => !toRemove.find(n => n === notification));\n    }\n    sendNotification(notification) {\n        var _a;\n        if ((_a = notification.schedule) === null || _a === void 0 ? void 0 : _a.at) {\n            const diff = notification.schedule.at.getTime() - new Date().getTime();\n            this.pending.push(notification);\n            setTimeout(() => {\n                this.sendPending();\n            }, diff);\n            return;\n        }\n        this.buildNotification(notification);\n    }\n    buildNotification(notification) {\n        const localNotification = new Notification(notification.title, {\n            body: notification.body,\n        });\n        localNotification.addEventListener('click', this.onClick.bind(this, notification), false);\n        localNotification.addEventListener('show', this.onShow.bind(this, notification), false);\n        return localNotification;\n    }\n    onClick(notification) {\n        const data = {\n            actionId: 'tap',\n            notification,\n        };\n        this.notifyListeners('localNotificationActionPerformed', data);\n    }\n    onShow(notification) {\n        this.notifyListeners('localNotificationReceived', notification);\n    }\n}\n"],"names":["WebPlugin","LocalNotificationsWeb","constructor","arguments","pending","hasNotificationSupport","window","Notification","requestPermission","permission","e","name","createChannel","unimplemented","deleteChannel","listChannels","schedule","options","unavailable","notification","notifications","sendNotification","map","id","getPending","registerActionTypes","cancel","filter","find","n","areEnabled","display","checkPermissions","value","requestPermissions","transformNotificationPermission","sendPending","_a","toRemove","now","Date","getTime","at","buildNotification","push","diff","setTimeout","localNotification","title","body","addEventListener","onClick","bind","onShow","data","actionId","notifyListeners"],"sourceRoot":"webpack:///"}