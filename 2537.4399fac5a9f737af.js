"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2537],{2537:(A,g,l)=>{l.r(g),l.d(g,{EventlistPageModule:()=>E});var c=l(9808),h=l(4182),i=l(2974),f=l(333),v=l(655),a=l(5439),t=l(2096),u=l(7712);function m(e,o){1&e&&(t.TgZ(0,"div",6),t._UZ(1,"ion-spinner",7),t.qZA())}function p(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"ion-item-sliding"),t.TgZ(1,"ion-item"),t.TgZ(2,"ion-label"),t.TgZ(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"ion-item-options",12),t.TgZ(9,"ion-item-option",13),t.NdJ("click",function(){const d=t.CHM(n).$implicit;return t.oxw(2).delete(d)}),t._uU(10,"Delete"),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=o.$implicit;t.xp6(4),t.Oqu(n.title),t.xp6(2),t.hij(" ",t.xi3(7,2,n.date,"dd/MM/yyyy, h:mm a")," ")}}function Z(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",8),t.TgZ(1,"ion-list"),t.TgZ(2,"ion-list-header"),t._uU(3," Events "),t.qZA(),t.YNc(4,p,11,5,"ion-item-sliding",9),t.TgZ(5,"ion-item",10),t.NdJ("click",function(){return t.CHM(n),t.oxw().add()}),t._UZ(6,"ion-icon",11),t.qZA(),t.qZA(),t.qZA()}if(2&e){const n=t.oxw();t.xp6(4),t.Q6J("ngForOf",n.eventlist)}}function y(e,o){1&e&&(t.TgZ(0,"ion-footer"),t._UZ(1,"ion-toolbar"),t.qZA())}const T=[{path:"",component:(()=>{class e{constructor(n,s,r,d){this.alertController=n,this.toastController=s,this.eventservice=r,this.platform=d,this.finishedloading=!1,this.eventlist=[]}ngOnInit(){this.eventservice.getAllEvents().subscribe(n=>{this.eventlist=n,this.finishedloading=!0},n=>{this.finishedloading=!0})}refresh(n){this.eventservice.getAllEvents().subscribe(s=>{this.eventlist=s,n.target.complete()},s=>{n.target.complete()})}delete(n){this.finishedloading=!1,this.eventservice.deleteEvent(n).subscribe(s=>{this.finishedloading=!0,this.eventlist=s},s=>{this.finishedloading=!0})}add(){return(0,v.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"",header:"Add Event",inputs:[{name:"title",type:"text",placeholder:"Title"},{name:"date",type:"datetime-local",min:a().format("yyyy-MM-DD")+"T00:00:00",value:a().add(1,"days").format("yyyy-MM-DDTHH:mm:ss.SSS")}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Add",handler:s=>(0,v.mG)(this,void 0,void 0,function*(){""==s.title||""==s.date?(yield this.toastController.create({message:"Either the title or date is not set",duration:2e3})).present():a(s.date).isBefore(a())?(yield this.toastController.create({message:"The date is in the past",duration:2e3})).present():(this.finishedloading=!1,this.eventservice.addEvent(s.title,a(s.date).format("yyyy-MM-DDTHH:mm:ss.SSS")).subscribe(r=>{this.finishedloading=!0,this.eventlist=r},r=>{this.finishedloading=!0}))})}]})).present()})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(i.Br),t.Y36(i.yF),t.Y36(u.n),t.Y36(i.t4))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-eventlist"]],decls:12,vars:4,consts:[["slot","start"],["autoHide","false"],["slot","fixed",3,"disabled","ionRefresh"],["class","centerspinner",4,"ngIf"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"centerspinner"],["name","crescent"],[1,"content"],[4,"ngFor","ngForOf"],["lines","none",1,"addbutton",3,"click"],["name","add-circle-outline"],["side","end"],["color","danger",3,"click"]],template:function(n,s){1&n&&(t.TgZ(0,"ion-header"),t.TgZ(1,"ion-toolbar"),t.TgZ(2,"ion-buttons",0),t._UZ(3,"ion-menu-button",1),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Event List"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"ion-content"),t.TgZ(7,"ion-refresher",2),t.NdJ("ionRefresh",function(d){return s.refresh(d)}),t._UZ(8,"ion-refresher-content"),t.qZA(),t.YNc(9,m,2,0,"div",3),t.YNc(10,Z,7,1,"div",4),t.qZA(),t.YNc(11,y,2,0,"ion-footer",5)),2&n&&(t.xp6(7),t.s9C("disabled",0==s.finishedloading),t.xp6(2),t.Q6J("ngIf",0==s.finishedloading),t.xp6(1),t.Q6J("ngIf",s.finishedloading),t.xp6(1),t.Q6J("ngIf",0==s.platform.is("desktop")))},directives:[i.Gu,i.sr,i.Sm,i.fG,i.wd,i.W2,i.nJ,i.Wo,c.O5,i.PQ,i.q_,i.yh,c.sg,i.Ie,i.gu,i.td,i.Q$,i.IK,i.u8,i.fr],pipes:[c.uU],styles:[".addbutton[_ngcontent-%COMP%]{--padding-start: 0px}.addbutton[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#2ed400;margin:auto}ion-spinner[_ngcontent-%COMP%]{width:100px!important;height:100px!important}.centerspinner[_ngcontent-%COMP%]{top:50%;left:50%;position:fixed;transform:translate(-50%,-50%)}"]}),e})()}];let _=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.Bz.forChild(T)],f.Bz]}),e})(),E=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,h.u5,i.Pc,_]]}),e})()}}]);