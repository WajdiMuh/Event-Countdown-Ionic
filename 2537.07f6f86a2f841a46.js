"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2537],{2537:(T,m,a)=>{a.r(m),a.d(m,{EventlistPageModule:()=>M});var c=a(9808),v=a(4182),s=a(7181),g=a(7203),h=a(655),d=a(5439),t=a(2096),u=a(7712);function p(i,l){1&i&&(t.TgZ(0,"div",6),t._UZ(1,"ion-spinner",7),t.qZA())}function _(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"ion-item-sliding")(1,"ion-item",12),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).eventclick(r)}),t.TgZ(2,"ion-label")(3,"h3"),t._uU(4),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"date"),t.qZA()()(),t.TgZ(8,"ion-item-options",13)(9,"ion-item-option",14),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).edit(r)}),t._uU(10,"Edit"),t.qZA(),t.TgZ(11,"ion-item-option",15),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw(2).delete(r)}),t._uU(12,"Delete"),t.qZA()()()}if(2&i){const e=l.$implicit;t.xp6(4),t.Oqu(e.title),t.xp6(2),t.hij(" ",t.xi3(7,2,e.date,"dd/MM/yyyy, h:mm a")," ")}}function y(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",8)(1,"ion-list")(2,"ion-list-header"),t._uU(3," Events "),t.qZA(),t.YNc(4,_,13,5,"ion-item-sliding",9),t.TgZ(5,"ion-item",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().add()}),t._UZ(6,"ion-icon",11),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.eventlist)}}function x(i,l){1&i&&(t.TgZ(0,"ion-footer"),t._UZ(1,"ion-toolbar"),t.qZA())}const E=[{path:"",component:(()=>{class i{constructor(e,n,o,r,f){this.alertController=e,this.toastController=n,this.eventservice=o,this.platform=r,this.router=f,this.finishedloading=!1,this.eventlist=[]}ngOnInit(){this.eventservice.getAllEvents().subscribe(e=>{this.eventlist=e,this.finishedloading=!0},e=>{this.finishedloading=!0})}refresh(e){this.eventservice.getAllEvents().subscribe(n=>{this.eventlist=n,e.target.complete()},n=>{e.target.complete()})}eventclick(e){this.router.navigate(["/countdown",e])}delete(e){this.finishedloading=!1,this.eventservice.deleteEvent(e).subscribe(n=>{this.finishedloading=!0,this.eventlist=n},n=>{this.finishedloading=!0})}edit(e){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"",header:"Edit Event",inputs:[{name:"title",type:"text",placeholder:"Title",value:e.title},{name:"date",type:"datetime-local",min:d().format("yyyy-MM-DD")+"T00:00:00",value:d(e.date).format("yyyy-MM-DDTHH:mm:ss.SSS")}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Edit",handler:o=>(0,h.mG)(this,void 0,void 0,function*(){""==o.title||""==o.date?(yield this.toastController.create({message:"Either the title or date is not set",duration:2e3})).present():d(o.date).isBefore(d())?(yield this.toastController.create({message:"The date is in the past",duration:2e3})).present():(this.finishedloading=!1,this.eventservice.editEvent(e,o.title,d(o.date).format("yyyy-MM-DDTHH:mm:ssZ")).subscribe(r=>{this.finishedloading=!0,this.eventlist=r},r=>{this.finishedloading=!0}))})}]})).present()})}add(){return(0,h.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({cssClass:"",header:"Add Event",inputs:[{name:"title",type:"text",placeholder:"Title"},{name:"date",type:"datetime-local",min:d().format("yyyy-MM-DD")+"T00:00:00",value:d().format("yyyy-MM-DDTHH:mm:ss.SSS")}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Add",handler:n=>(0,h.mG)(this,void 0,void 0,function*(){""==n.title||""==n.date?(yield this.toastController.create({message:"Either the title or date is not set",duration:2e3})).present():d(n.date).isBefore(d())?(yield this.toastController.create({message:"The date is in the past",duration:2e3})).present():(this.finishedloading=!1,this.eventservice.addEvent(n.title,d(n.date).format("yyyy-MM-DDTHH:mm:ssZ")).subscribe(o=>{this.finishedloading=!0,this.eventlist=o},o=>{this.finishedloading=!0}))})}]})).present()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.Br),t.Y36(s.yF),t.Y36(u.n),t.Y36(s.t4),t.Y36(g.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-eventlist"]],decls:12,vars:4,consts:[["slot","start"],["autoHide","false"],["slot","fixed",3,"disabled","ionRefresh"],["class","centerspinner",4,"ngIf"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"centerspinner"],["name","crescent"],[1,"content"],[4,"ngFor","ngForOf"],["lines","none",1,"addbutton",3,"click"],["name","add-circle-outline"],[3,"click"],["side","end"],["color","warning",3,"click"],["color","danger",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-menu-button",1),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Event List"),t.qZA()()(),t.TgZ(6,"ion-content")(7,"ion-refresher",2),t.NdJ("ionRefresh",function(r){return n.refresh(r)}),t._UZ(8,"ion-refresher-content"),t.qZA(),t.YNc(9,p,2,0,"div",3),t.YNc(10,y,7,1,"div",4),t.qZA(),t.YNc(11,x,2,0,"ion-footer",5)),2&e&&(t.xp6(7),t.s9C("disabled",0==n.finishedloading),t.xp6(2),t.Q6J("ngIf",0==n.finishedloading),t.xp6(1),t.Q6J("ngIf",n.finishedloading),t.xp6(1),t.Q6J("ngIf",0==n.platform.is("desktop")))},directives:[s.Gu,s.sr,s.Sm,s.fG,s.wd,s.W2,s.nJ,s.Wo,c.O5,s.PQ,s.q_,s.yh,c.sg,s.td,s.Ie,s.Q$,s.IK,s.u8,s.gu,s.fr],pipes:[c.uU],styles:[".addbutton[_ngcontent-%COMP%]{--padding-start: 0px}.addbutton[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#2ed400;margin:auto}ion-spinner[_ngcontent-%COMP%]{width:100px!important;height:100px!important}.centerspinner[_ngcontent-%COMP%]{top:50%;left:50%;position:fixed;transform:translate(-50%,-50%)}ion-header[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}ion-list-header[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]}),i})()}];let C=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[g.Bz.forChild(E)],g.Bz]}),i})(),M=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[c.ez,v.u5,s.Pc,C]]}),i})()}}]);