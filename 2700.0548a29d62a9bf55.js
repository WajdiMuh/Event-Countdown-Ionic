"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2700],{2700:(N,f,c)=>{c.r(f),c.d(f,{CountdownPageModule:()=>J});var u=c(9808),m=c(4182),r=c(2974),a=c(333),h=c(5439),w=c(2916),Z=c(2654);class y extends Z.w{constructor(n,t){super()}schedule(n,t=0){return this}}let g=(()=>{class s{constructor(t,i=s.now){this.SchedulerAction=t,this.now=i}schedule(t,i=0,o){return new this.SchedulerAction(this,t).schedule(o,i)}}return s.now=()=>Date.now(),s})();class l extends g{constructor(n,t=g.now){super(n,()=>l.delegate&&l.delegate!==this?l.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(n,t=0,i){return l.delegate&&l.delegate!==this?l.delegate.schedule(n,t,i):super.schedule(n,t,i)}flush(n){const{actions:t}=this;if(this.active)return void t.push(n);let i;this.active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=t.shift());if(this.active=!1,i){for(;n=t.shift();)n.unsubscribe();throw i}}}const v=new l(class x extends y{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){if(this.closed)return this;this.state=n;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,i=0){return setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let o,i=!1;try{this.work(n)}catch(d){i=!0,o=!!d&&d||new Error(d)}if(i)return this.unsubscribe(),o}_unsubscribe(){const n=this.id,t=this.scheduler,i=t.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&i.splice(o,1),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null}});var b=c(6688);function p(s=0,n=v){return(!function C(s){return!(0,b.k)(s)&&s-parseFloat(s)+1>=0}(s)||s<0)&&(s=0),(!n||"function"!=typeof n.schedule)&&(n=v),new w.y(t=>(t.add(n.schedule(P,s,{subscriber:t,counter:0,period:s})),t))}function P(s){const{subscriber:n,counter:t,period:i}=s;n.next(t),this.schedule({subscriber:n,counter:t+1,period:i},i)}var e=c(2096),A=c(7712);function T(s,n){1&s&&(e.TgZ(0,"div",6),e._UZ(1,"ion-spinner",7),e.qZA())}function M(s,n){if(1&s&&(e.TgZ(0,"ion-card"),e.TgZ(1,"ion-card-header"),e.TgZ(2,"ion-card-title"),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"ion-card-content"),e.TgZ(5,"p"),e._uU(6," Date : "),e._UZ(7,"br"),e._uU(8),e.ALo(9,"date"),e._UZ(10,"br"),e.qZA(),e.TgZ(11,"p"),e._uU(12," Time Left : "),e._UZ(13,"br"),e._uU(14),e.qZA(),e.qZA(),e.qZA()),2&s){const t=e.oxw(2);e.xp6(3),e.Oqu(t.latestevent.title),e.xp6(5),e.hij(" ",e.xi3(9,3,t.latestevent.date,"dd/MM/yyyy, h:mm a")," "),e.xp6(6),e.hij(" ",t.daysleft," ")}}function I(s,n){1&s&&(e.TgZ(0,"ion-label"),e._uU(1," No Event Upcoming "),e.qZA())}function U(s,n){if(1&s&&(e.TgZ(0,"div",8),e.YNc(1,M,15,6,"ion-card",9),e.YNc(2,I,2,0,"ion-label",9),e.qZA()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.latestevent),e.xp6(1),e.Q6J("ngIf",!t.latestevent)}}const O=[{path:"",component:(()=>{class s{constructor(t,i){this.eventservice=t,this.route=i,this.finishedloading=!1,this.latestevent=void 0,this.receivedevent=void 0,this.daysleft=""}ngOnInit(){this.route.params.subscribe(t=>{null==t.id?this.eventservice.getLatestEvent().subscribe(i=>{this.subscription=p(1e3).subscribe(o=>{this.recalculate()}),this.latestevent=i,this.recalculate(),this.finishedloading=!0},i=>{this.finishedloading=!0}):(this.subscription=p(1e3).subscribe(i=>{this.recalculate()}),this.latestevent={id:parseInt(t.id),title:t.title,date:new Date(t.date)},this.receivedevent=this.latestevent,this.recalculate(),this.finishedloading=!0)})}ngOnDestroy(){null!=this.subscription&&this.subscription.unsubscribe()}refresh(t){null==this.receivedevent?this.eventservice.getLatestEvent().subscribe(i=>{this.latestevent=i,this.recalculate(),t.target.complete()},i=>{t.target.complete()}):(this.latestevent=this.receivedevent,this.recalculate(),t.target.complete())}recalculate(){var i=h(this.latestevent.date).diff(h()),o=h.duration(i);this.daysleft=`Years: ${o.years()}, Months: ${o.months()}, Days: ${o.days()}, Hours: ${o.hours()}, Minutes: ${o.minutes()}, Seconds: ${o.seconds()}`,null==this.receivedevent&&o.milliseconds()<=0&&(this.finishedloading=!1,this.eventservice.getLatestEvent().subscribe(d=>{this.latestevent=d,this.recalculate(),this.finishedloading=!0},d=>{this.finishedloading=!0}))}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(A.n),e.Y36(a.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-countdown"]],decls:11,vars:3,consts:[["translucent",""],["slot","start"],["autoHide","false"],["slot","fixed",3,"disabled","ionRefresh"],["class","centerspinner",4,"ngIf"],["class","content",4,"ngIf"],[1,"centerspinner"],["name","crescent"],[1,"content"],[4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar",0),e.TgZ(2,"ion-buttons",1),e._UZ(3,"ion-menu-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Countdown"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"ion-content"),e.TgZ(7,"ion-refresher",3),e.NdJ("ionRefresh",function(d){return i.refresh(d)}),e._UZ(8,"ion-refresher-content"),e.qZA(),e.YNc(9,T,2,0,"div",4),e.YNc(10,U,3,2,"div",5),e.qZA()),2&t&&(e.xp6(7),e.s9C("disabled",0==i.finishedloading),e.xp6(2),e.Q6J("ngIf",0==i.finishedloading),e.xp6(1),e.Q6J("ngIf",i.finishedloading))},directives:[r.Gu,r.sr,r.Sm,r.fG,r.wd,r.W2,r.nJ,r.Wo,u.O5,r.PQ,r.PM,r.Zi,r.Dq,r.FN,r.Q$],pipes:[u.uU],styles:["ion-spinner[_ngcontent-%COMP%]{width:100px!important;height:100px!important}.centerspinner[_ngcontent-%COMP%]{top:50%;left:50%;position:fixed;transform:translate(-50%,-50%)}.content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;-webkit-user-select:none;user-select:none}.ios[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin-bottom:100px}ion-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px}ion-header[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}"]}),s})()}];let q=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[a.Bz.forChild(O)],a.Bz]}),s})(),J=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[u.ez,m.u5,r.Pc,q]]}),s})()}}]);